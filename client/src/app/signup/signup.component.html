<form [formGroup]="signup" (ngSubmit)="handleSubmit()">
  <h2>Sign Up</h2>

  <!-- Role -->
  <div class="mb-3">
    <label class="form-label">Role</label>
    <select formControlName="role" class="form-control">
      <option value="" disabled selected>-- Choose a role --</option>
      <option value="doctor">Doctor</option>
      <option value="patient">Patient</option>
      <option value="admin">Admin</option>
    </select>
    <div *ngIf="signup.get('role')?.invalid && (signup.get('role')?.touched || submitted)" class="text-danger">
      Role is required
    </div>
  </div>

  <!-- Name -->
  <div class="mb-3">
    <label class="form-label">Name</label>
    <input type="text" formControlName="name" class="form-control">
    <div *ngIf="signup.get('name')?.invalid && (signup.get('name')?.touched || submitted)" class="text-danger">
      Name is required and must be at least 3 characters
    </div>
  </div>

  <!-- Email -->
  <div class="mb-3">
    <label class="form-label">Email</label>
    <input type="email" formControlName="email" class="form-control">
    <div *ngIf="signup.get('email')?.invalid && (signup.get('email')?.touched || submitted)" class="text-danger">
      Valid email is required
    </div>
  </div>

  <!-- Phone -->
  <div class="mb-3">
    <label class="form-label">Phone</label>
    <input type="text" formControlName="phone" class="form-control">
  </div>

  <!-- Doctor-only fields -->
  <div *ngIf="signup.get('role')?.value === 'doctor'">
    <div class="mb-3">
      <label class="form-label">Specialization</label>
      <input type="text" formControlName="specialization" class="form-control">
    </div>

    <div class="mb-3">
      <label class="form-label">Available Days</label>
      <div *ngFor="let day of allDays">
        <input type="checkbox" [value]="day" (change)="toggleDay(day)"> {{ day }}
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Description</label>
      <textarea formControlName="description" class="form-control" rows="3"></textarea>
    </div>
  </div>

  <!-- Avatar -->
  <div class="mb-3">
    <label class="form-label">Avatar</label>
    <input type="file" (change)="onFileSelected($event)" accept="image/*">
  </div>

  <!-- Password -->
  <div class="mb-3">
    <label class="form-label">Password</label>
    <input type="password" formControlName="password" class="form-control">
  </div>

  <div class="mb-3">
    <label class="form-label">Confirm Password</label>
    <input type="password" formControlName="confirmPassword" class="form-control">
  </div>

  <button type="submit" class="btn btn-primary w-100">Sign Up</button>
  <a routerLink="/login" class="nav-link">I have an account</a>
</form>
